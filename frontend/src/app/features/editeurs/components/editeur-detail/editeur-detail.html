<div class="detail-container">
  <a routerLink="/editeurs" class="back-link">← Retour à la liste des éditeurs</a>

  @if (isLoading()) {
    <p>Chargement de l’éditeur…</p>
  } @else if (error()) {
    <p class="error">{{ error() }}</p>
  } @else if (editeur()) {
    @let edi = editeur()!;

    <h1>Détail de l’éditeur</h1>

    <section class="card">
      <div class="card-head">
        @if (edi.logo_url) {
          <img class="editeur-logo" [src]="edi.logo_url" [alt]="edi.nom" loading="lazy" />
        }

        <div class="card-head-text">
          <h2>{{ edi.nom }}</h2>
          <p><strong>ID :</strong> {{ edi.id }}</p>
        </div>
      </div>
    </section>

    <section class="games">
      <h2>Jeux de cet éditeur</h2>

      @if (jeuxLoading()) {
        <p>Chargement des jeux...</p>
      } @else if (jeuxError()) {
        <p class="error">{{ jeuxError() }}</p>
      } @else if (jeux().length) {
        <ul class="games-list">
          @for (jeu of jeux(); track jeu.id) {
            <li>
              <a [routerLink]="['/jeux', jeu.id]">
                {{ jeu.nom }}
              </a>
            </li>
          }
        </ul>
      } @else {
        <p>Aucun jeu associé pour le moment.</p>
      }
    </section>
  } @else {
    <p>Éditeur introuvable.</p>
  }
</div>
